-----------A Dictionary stores keywords & its meanings. Provide facility for 
adding new keywords, deleting keywords, updating values of any entry. Provide facility 
to display whole data sorted in ascending/ Descending order. Also find how many 
maximum comparisons may require for finding any keyword. Use Height balance tree and 
find the complexity for finding a keyword.-------------
class Node:
    def __init__(self, key, value):  # Corrected __init__
        self.key = key
        self.value = value
        self.left = None
        self.right = None

class BSTDictionary:
    def __init__(self):  # Corrected __init__
        self.root = None

    def insert(self, key, value):
        """Insert key-value pair into the BST."""
        self.root = self._insert(self.root, key, value)

    def _insert(self, node, key, value):
        if node is None:
            return Node(key, value)
        if key < node.key:
            node.left = self._insert(node.left, key, value)
        elif key > node.key:
            node.right = self._insert(node.right, key, value)
        else:
            # If key already exists, update the value
            node.value = value
        return node

    def search(self, key):
        """Search for a key and return its value."""
        return self._search(self.root, key)

    def _search(self, node, key):
        if node is None:
            return None
        if key < node.key:
            return self._search(node.left, key)
        elif key > node.key:
            return self._search(node.right, key)
        else:
            return node.value

    def inorder(self):
        """Return all key-value pairs in sorted order (by key)."""
        result = []
        self._inorder(self.root, result)
        return result

    def _inorder(self, node, result):
        if node:
            self._inorder(node.left, result)
            result.append((node.key, node.value))
            self._inorder(node.right, result)

# Example usage:
d = BSTDictionary()
d.insert("banana", 30)
d.insert("apple", 10)
d.insert("orange", 50)
d.insert("mango", 40)

print("Search for 'mango':", d.search("mango"))
print("Search for 'grape':", d.search("grape"))

print("\nDictionary in sorted order:")
for k, v in d.inorder():
    print(f"{k} => {v}")
